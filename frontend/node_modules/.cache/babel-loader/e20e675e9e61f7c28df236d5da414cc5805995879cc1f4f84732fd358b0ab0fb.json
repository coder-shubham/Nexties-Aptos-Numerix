{"ast":null,"code":"import React,{useState}from'react';import{AptosClient,FaucetClient,AptosAccount,TxnBuilderTypes,BCS}from'aptos';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NODE_URL='https://fullnode.devnet.aptoslabs.com';const FAUCET_URL='https://faucet.devnet.aptoslabs.com';const client=new AptosClient(NODE_URL);const faucetClient=new FaucetClient(NODE_URL,FAUCET_URL);const createGame=async(account,number,maxAttempts)=>{const transactionPayload=new TxnBuilderTypes.TransactionPayloadEntryFunction(TxnBuilderTypes.EntryFunction.natural('0x1::GuessTheNumber',// Replace with your module address and name\n'create_game',[],[BCS.bcsSerializeUint64(number),BCS.bcsSerializeUint64(maxAttempts)]));const[{sequence_number},chainId]=await Promise.all([client.getAccount(account.address()),client.getChainId()]);const rawTxn=new TxnBuilderTypes.RawTransaction(TxnBuilderTypes.AccountAddress.fromHex(account.address()),BigInt(sequence_number),transactionPayload,1000n,// max gas amount\n0n,// gas unit price\n0n,// gas currency code\nBigInt(Math.floor(Date.now()/1000)+10n),new TxnBuilderTypes.ChainId(chainId));const signedTxn=AptosClient.generateBCSTransaction(account,rawTxn);const transactionRes=await client.submitSignedBCSTransaction(signedTxn);await client.waitForTransaction(transactionRes.hash);};const guessNumber=async(account,number)=>{// Implement the function to call the guess_number Move function\n};const getGameStatus=async account=>{// Implement the function to call the get_game_status Move function\n};function App(){const[account,setAccount]=useState(null);const[gameStatus,setGameStatus]=useState(null);const[number,setNumber]=useState('');const[maxAttempts,setMaxAttempts]=useState(5);const[message,setMessage]=useState('');const handleCreateGame=async()=>{await createGame(account,parseInt(number),maxAttempts);const status=await getGameStatus(account.address());setGameStatus(status);};const handleGuess=async()=>{await guessNumber(account,parseInt(number));const status=await getGameStatus(account.address());setGameStatus(status);setMessage(status.is_finished?status.winner?'You won!':'Game over!':'Keep guessing...');};const handleConnectWallet=async()=>{const newAccount=new AptosAccount();await faucetClient.fundAccount(newAccount.address(),1000000);setAccount(newAccount);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Guess the Number on Aptos\"}),!account?/*#__PURE__*/_jsx(\"button\",{onClick:handleConnectWallet,children:\"Connect Wallet\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Number to Guess (1-100):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:number,onChange:e=>setNumber(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Max Attempts:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:maxAttempts,onChange:e=>setMaxAttempts(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateGame,children:\"Create Game\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Guess a Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:number,onChange:e=>setNumber(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGuess,children:\"Guess\"})]}),gameStatus&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Number of Attempts: \",gameStatus[1]]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Guessed Numbers: \",gameStatus[2].join(', ')]}),/*#__PURE__*/_jsx(\"p\",{children:message})]})]})]})});}export default App;","map":{"version":3,"names":["React","useState","AptosClient","FaucetClient","AptosAccount","TxnBuilderTypes","BCS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NODE_URL","FAUCET_URL","client","faucetClient","createGame","account","number","maxAttempts","transactionPayload","TransactionPayloadEntryFunction","EntryFunction","natural","bcsSerializeUint64","sequence_number","chainId","Promise","all","getAccount","address","getChainId","rawTxn","RawTransaction","AccountAddress","fromHex","BigInt","Math","floor","Date","now","ChainId","signedTxn","generateBCSTransaction","transactionRes","submitSignedBCSTransaction","waitForTransaction","hash","guessNumber","getGameStatus","App","setAccount","gameStatus","setGameStatus","setNumber","setMaxAttempts","message","setMessage","handleCreateGame","parseInt","status","handleGuess","is_finished","winner","handleConnectWallet","newAccount","fundAccount","className","children","onClick","type","value","onChange","e","target","join"],"sources":["/Users/deepakkumar/Documents/aptos-guess-the-number/guess-the-number-frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { AptosClient, FaucetClient, AptosAccount, TxnBuilderTypes, BCS } from 'aptos';\nimport './App.css';\n\nconst NODE_URL = 'https://fullnode.devnet.aptoslabs.com';\nconst FAUCET_URL = 'https://faucet.devnet.aptoslabs.com';\n\nconst client = new AptosClient(NODE_URL);\nconst faucetClient = new FaucetClient(NODE_URL, FAUCET_URL);\n\nconst createGame = async (account, number, maxAttempts) => {\n  const transactionPayload = new TxnBuilderTypes.TransactionPayloadEntryFunction(\n    TxnBuilderTypes.EntryFunction.natural(\n      '0x1::GuessTheNumber', // Replace with your module address and name\n      'create_game',\n      [],\n      [\n        BCS.bcsSerializeUint64(number),\n        BCS.bcsSerializeUint64(maxAttempts),\n      ]\n    )\n  );\n\n  const [{ sequence_number }, chainId] = await Promise.all([\n    client.getAccount(account.address()),\n    client.getChainId(),\n  ]);\n\n  const rawTxn = new TxnBuilderTypes.RawTransaction(\n    TxnBuilderTypes.AccountAddress.fromHex(account.address()),\n    BigInt(sequence_number),\n    transactionPayload,\n    1000n, // max gas amount\n    0n, // gas unit price\n    0n, // gas currency code\n    BigInt(Math.floor(Date.now() / 1000) + 10n),\n    new TxnBuilderTypes.ChainId(chainId),\n  );\n\n  const signedTxn = AptosClient.generateBCSTransaction(account, rawTxn);\n  const transactionRes = await client.submitSignedBCSTransaction(signedTxn);\n\n  await client.waitForTransaction(transactionRes.hash);\n};\n\nconst guessNumber = async (account, number) => {\n  // Implement the function to call the guess_number Move function\n};\n\nconst getGameStatus = async (account) => {\n  // Implement the function to call the get_game_status Move function\n};\n\nfunction App() {\n  const [account, setAccount] = useState(null);\n  const [gameStatus, setGameStatus] = useState(null);\n  const [number, setNumber] = useState('');\n  const [maxAttempts, setMaxAttempts] = useState(5);\n  const [message, setMessage] = useState('');\n\n  const handleCreateGame = async () => {\n    await createGame(account, parseInt(number), maxAttempts);\n    const status = await getGameStatus(account.address());\n    setGameStatus(status);\n  };\n\n  const handleGuess = async () => {\n    await guessNumber(account, parseInt(number));\n    const status = await getGameStatus(account.address());\n    setGameStatus(status);\n    setMessage(status.is_finished ? (status.winner ? 'You won!' : 'Game over!') : 'Keep guessing...');\n  };\n\n  const handleConnectWallet = async () => {\n    const newAccount = new AptosAccount();\n    await faucetClient.fundAccount(newAccount.address(), 1000000);\n    setAccount(newAccount);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Guess the Number on Aptos</h1>\n        {!account ? (\n          <button onClick={handleConnectWallet}>Connect Wallet</button>\n        ) : (\n          <>\n            <div>\n              <label>Number to Guess (1-100):</label>\n              <input type=\"number\" value={number} onChange={(e) => setNumber(e.target.value)} />\n              <label>Max Attempts:</label>\n              <input type=\"number\" value={maxAttempts} onChange={(e) => setMaxAttempts(e.target.value)} />\n              <button onClick={handleCreateGame}>Create Game</button>\n            </div>\n            <div>\n              <label>Guess a Number:</label>\n              <input type=\"number\" value={number} onChange={(e) => setNumber(e.target.value)} />\n              <button onClick={handleGuess}>Guess</button>\n            </div>\n            {gameStatus && (\n              <div>\n                <p>Number of Attempts: {gameStatus[1]}</p>\n                <p>Guessed Numbers: {gameStatus[2].join(', ')}</p>\n                <p>{message}</p>\n              </div>\n            )}\n          </>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}